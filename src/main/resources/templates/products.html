<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
    <meta charset="UTF-8">
    <title>商品管理 | 発注予測システム</title>
</head>
<body>

    <div th:if="${is_admin}">
        <aside>
            <ul>
                <li><strong>メニュー</strong></li>
                <li><a href="/forecast">需要予測</a></li>
                <li><a href="/sales_input">需要実績入力</a></li>
                <li><a href="/history_all">販売実績と天気</a></li>
                <li><a href="/products">商品管理</a></li>
                <li><a href="/accounts">アカウント管理</a></li>
                <li><a href="/login">ログアウト</a></li>
            </ul>
        </aside>
    </div>
    <!-- タイトル -->
    <h2 th:text="${pageTitle}">商品管理</h2>

    <!-- 商品追加フォーム -->
    <form th:action="@{/add-product}" method="post" name="addForm">
        <!-- 商品名入力 -->
        <div>
            <label for="productName">商品名：</label>
            <input type="text" id="productName" name="productName" placeholder="商品名を入力してください" required>
        </div>

        <!-- 単価入力 -->
        <div>
            <label for="productPrice">単価：</label>
            <input type="number" id="productPrice" name="productPrice" placeholder="単価を入力してください" min="0" required>
        </div>

        <!-- 登録ボタン -->
        <div>
            <button type="submit" id="submitButton">登録</button>
        </div>
    </form>

    <hr>

    <!-- 商品一覧表示 -->
    <h2>商品一覧</h2>
    <table border="1">
        <thead>
            <tr>
                <th>商品名</th>
                <th>単価</th>
            </tr>
        </thead>
        <tbody>
            <!-- productList: List<Product> をループ表示 -->
            <tr th:each="product : ${productList}">
                <td th:text="${product.name}">商品名</td>
                <td th:text="${product.price}">単価</td>
            </tr>
            <tr th:if="${#lists.isEmpty(productList)}">
                <td colspan="2">商品が登録されていません。</td>
            </tr>
        </tbody>
    </table>
</body>
</html>
